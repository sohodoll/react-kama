"use strict";(self.webpackChunkreact_kama=self.webpackChunkreact_kama||[]).push([[815],{5815:function(t,s,e){e.r(s),e.d(s,{ProfileContainer:function(){return N}});var n=e(8683),i=e(2791),r="ProfileInfo_descriptionBlock__XBXuJ",u="ProfileInfo_icon__z+Lt7",a=e(9074),o=e(9439),c=e(184),l=function(t){var s=i.useState(!1),e=(0,o.Z)(s,2),n=e[0],r=e[1],u=i.useState(t.status),a=(0,o.Z)(u,2),l=a[0],d=a[1],f=function(){r(!n)};return i.useEffect((function(){d(t.status)}),[t.status]),(0,c.jsxs)("div",{children:[!n&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onClick:f,children:t.status||"----"})}),n&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{autoFocus:!0,onChange:function(t){return function(t){var s=t.currentTarget.value;d(s)}(t)},onBlur:function(){f(),t.updateStatus(l)},type:"text",value:l})})]})},d=function(t){return t.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:u,src:"https://cdn-icons-png.flaticon.com/512/666/666201.png",alt:""})}),(0,c.jsxs)("div",{className:r,children:[(0,c.jsx)("img",{src:t.profile.photos.large,alt:""}),(0,c.jsx)("p",{children:t.profile.fullName}),(0,c.jsx)(l,{status:t.status,updateStatus:t.updateStatus})]})]}):(0,c.jsx)(a.p,{})},f=e(6508),p={},x={item:"Post_item__Yu4oG",like:"Post_like__+fQP+"},h=function(t){return(0,c.jsxs)("div",{className:x.item,children:[(0,c.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/3082/3082351.png"}),(0,c.jsxs)("span",{className:x.like,children:[(0,c.jsx)("span",{children:t.likesCount}),(0,c.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdnBlK_Dcb2xIPJe6KfZrqbuR2lFrBUF0mKg&usqp=CAU",alt:""})]}),(0,c.jsx)("span",{className:x.text,children:t.message}),(0,c.jsx)("div",{})]})},j=e(6139),m=e(704),v=e(5304),g=e(4298),P=(0,m.Z)({form:"myPosts"})((function(t){var s=i.createRef();return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(j.Z,{validate:[v.l,v.c],name:"newPostText",component:g.K,ref:s,value:t.newPostText})}),(0,c.jsx)("div",{children:(0,c.jsx)(j.Z,{component:"button",children:"Add post"})})]})})),k=i.memo((function(t){var s=t.posts.map((function(t){return(0,c.jsx)(h,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,c.jsxs)("div",{className:p.postsBlock,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{children:(0,c.jsx)(P,{onSubmit:function(s){t.addPost(s.newPostText)}})}),(0,c.jsx)("div",{className:p.posts,children:s})]})})),S=e(8687),Z=(0,S.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,f.Wl)(s))}}}))(k),_=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(d,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(Z,{})]})},C=e(7689),b=e(8277);var N=(0,e(7781).qC)((0,S.$j)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:f.et,getStatus:f.lR,updateStatus:f.Nf}),(function(t){return function(s){var e=(0,C.TH)(),i=(0,C.s0)(),r=(0,C.UO)();return(0,c.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:i,params:r}}))}}),b.e)((function(t){return(0,i.useEffect)((function(){var s=t.router.params.id;s||(s=t.authorizedUserId),t.getUserProfile(s),t.getStatus(s)}),[]),t.isAuth?(0,c.jsx)(_,(0,n.Z)((0,n.Z)({},t),{},{profile:t.profile,status:t.status,updateStatus:t.updateStatus})):(0,c.jsx)(C.Fg,{to:"/login"})}))},8277:function(t,s,e){e.d(s,{e:function(){return p}});var n=e(8683),i=e(5671),r=e(3144),u=e(136),a=e(516),o=e(2791),c=e(8687),l=e(7689),d=e(184),f=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var s=function(s){(0,u.Z)(o,s);var e=(0,a.Z)(o);function o(){return(0,i.Z)(this,o),e.apply(this,arguments)}return(0,r.Z)(o,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,n.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login"})}}]),o}(o.Component);return(0,c.$j)(f)(s)}}}]);
//# sourceMappingURL=815.cd1da361.chunk.js.map